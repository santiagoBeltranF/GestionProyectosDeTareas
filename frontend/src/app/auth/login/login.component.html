<div class="auth-page">
  <div class="auth-wrap">
    <div class="brand">
      <span class="logo-cube"></span>
      <span class="brand-text">ProjeX</span>
    </div>

    <mat-card class="auth-card">
      <h1 class="title">Login</h1>

      <form [formGroup]="loginForm" (ngSubmit)="login()" class="form">
        <mat-form-field appearance="outline" class="full">
          <mat-label>Username or Email</mat-label>
          <input matInput type="email" placeholder="you@example.com" formControlName="email" />
          <mat-error *ngIf="loginForm.get('email')?.hasError('required')">El email es obligatorio.</mat-error>
          <mat-error *ngIf="loginForm.get('email')?.hasError('email')">Introduce un email válido.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full">
          <mat-label>Password</mat-label>
          <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="••••••••" />
          <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Mostrar/ocultar password'">
            <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="loginForm.get('password')?.hasError('required')">La contraseña es obligatoria.</mat-error>
          <mat-error *ngIf="loginForm.get('password')?.hasError('minlength')">Mínimo 6 caracteres.</mat-error>
        </mat-form-field>

        <button class="btn btn-primary full" type="submit" [disabled]="loginForm.invalid">Login</button>
      </form>
    </mat-card>
  </div>
</div>
